<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>My Schedule - AnimaLog</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <div class="dashboard">
        <aside class="sidebar">
            <div class="logo">
                <h2>üêæ AnimaLog</h2>
            </div>
            <nav class="sidebar-nav">
                <a th:href="@{/vet/dashboard}">Dashboard</a>
                <a th:href="@{/vet/schedule}" class="active">My Schedule</a>
                <a th:href="@{/vet/appointments}">Appointments</a>
                <a th:href="@{/vet/medical-records}">Medical Records</a>
                <a th:href="@{/vet/vaccinations}">Vaccinations</a>
                <a th:href="@{/vet/prescriptions}">Prescriptions</a>
                <a th:href="@{/logout}">Logout</a>
            </nav>
        </aside>
        
        <main class="main-content">
            <header class="page-header">
                <h1>My Availability Schedule</h1>
                <a th:href="@{/vet/schedule/add}" class="btn-primary">Add Time Slot</a>
            </header>
            
            <div class="section">
                <h2>üìÖ Weekly Schedule</h2>
                <p style="color: #666; margin-bottom: 2rem;">
                    Set your available days and times. Pet owners will only see these time slots when booking appointments.
                </p>
                
                <div th:if="${schedules != null and !schedules.isEmpty()}" class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Day</th>
                                <th>Start Time</th>
                                <th>End Time</th>
                                <th>Max Appointments/Hour</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="schedule : ${schedules}">
                                <td>
                                    <strong th:text="${schedule.dayOfWeek}">MONDAY</strong>
                                </td>
                                <td th:text="${#temporals.format(schedule.startTime, 'hh:mm a')}">09:00 AM</td>
                                <td th:text="${#temporals.format(schedule.endTime, 'hh:mm a')}">05:00 PM</td>
                                <td th:text="${schedule.maxAppointmentsPerSlot}">4</td>
                                <td>
                                    <span th:if="${schedule.isActive}" class="badge badge-success">Active</span>
                                    <span th:unless="${schedule.isActive}" class="badge badge-danger">Inactive</span>
                                </td>
                                <td>
                                    <a th:href="@{/vet/schedule/delete/{id}(id=${schedule.id})}" 
                                       class="btn-sm btn-danger"
                                       onclick="return confirm('Delete this time slot?')">Delete</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div th:if="${schedules == null or schedules.isEmpty()}" class="empty-state">
                    <div class="empty-state-icon">üìÖ</div>
                    <h3>No schedule set</h3>
                    <p>Add your available time slots so pet owners can book appointments with you.</p>
                    <a th:href="@{/vet/schedule/add}" class="btn-primary">Add Time Slot</a>
                </div>
            </div>
            
            <div class="section">
                <h2>‚ÑπÔ∏è How Schedule Works</h2>
                <div style="background: #f0f8ff; padding: 1.5rem; border-radius: 10px; border-left: 4px solid #4CAF50;">
                    <ul style="margin: 0; padding-left: 1.5rem; line-height: 2;">
                        <li>Set your available days and time ranges</li>
                        <li>Pet owners will only see your available slots when booking</li>
                        <li>You can set maximum appointments per time slot to avoid overbooking</li>
                        <li>You can add multiple time slots for the same day</li>
                        <li>Inactive schedules won't be shown to pet owners</li>
                    </ul>
                </div>
            </div>
        </main>
    </div>
    <script th:src="@{/js/main.js}"></script>
</body>
</html>